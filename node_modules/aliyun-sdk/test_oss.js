var ALY = require('./index.js');

var oss = new ALY.OSS({
  accessKeyId: 'DpqmTnnCVV45s7gP',
  secretAccessKey: 'wJT5OddEiVW0o3BqolssXmD5MYWTJv',
  endpoint: 'http://oss-cn-hangzhou.aliyuncs.com',
  apiVersion: '2013-10-15'
});


// put object
var fs = require('fs');
fs.readFile('README.md', function (err, data) {
  if (err) {
    console.log('error:', err);
    return;
  }

  oss.putObject({
        Bucket: 'chylvina',
        Key: '你好1',
        Body: data,
        AccessControlAllowOrigin: '',
        ContentType: 'text/plain',
        CacheControl: 'no-cache',         // 参考: http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.9
        ContentDisposition: '',           // 参考: http://www.w3.org/Protocols/rfc2616/rfc2616-sec19.html#sec19.5.1
        ContentEncoding: 'utf-8',         // 参考: http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.11
        ServerSideEncryption: 'AES256'
      },
      function (err, data) {

        if (err) {
          console.log('error:', err);
          return;
        }

        console.log('success:', data);

      });
});

return;

// copy object
oss.copyObject({
      Bucket: 'chylvina',
      CopySource: '/chylvina/你好',
      Key: '你好-copy',
      //CopySourceIfMatch: '',
      //CopySourceIfNoneMatch: '',
      //CopySourceIfModifiedSince: '',
      //CopySourceIfUnmodifiedSince: '',
      //CopySourceIfModifiedSince: '',
      MetadataDirective: 'REPLACE',
      //AccessControlAllowOrigin: '',
      ContentType: 'text/plain',
      CacheControl: 'public',         // 参考: http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.9
      ContentDisposition: '',           // 参考: http://www.w3.org/Protocols/rfc2616/rfc2616-sec19.html#sec19.5.1
      ContentEncoding: 'utf-8',         // 参考: http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.11
      ServerSideEncryption: 'AES256'
    },
    function (err, data) {

      if (err) {
        console.log('error:', err);
        return;
      }

      console.log('success:', data);

    });
return;

// put object
var fs = require('fs');
fs.readFile('README.md', function (err, data) {
  if (err) {
    console.log('error:', err);
    return;
  }

  oss.putObject({
      Bucket: 'chylvina',
      Key: '你好1',
      Body: data,
      AccessControlAllowOrigin: '',
      ContentType: 'text/plain',
      CacheControl: 'no-cache',         // 参考: http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.9
      ContentDisposition: '',           // 参考: http://www.w3.org/Protocols/rfc2616/rfc2616-sec19.html#sec19.5.1
      ContentEncoding: 'utf-8',         // 参考: http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.11
      ServerSideEncryption: 'AES256'
    },
    function (err, data) {

      if (err) {
        console.log('error:', err);
        return;
      }

      console.log('success:', data);

    });
});

return;

oss.deleteObjects({
    Bucket: 'chylvina',
    Delete: {
      Objects: [
        {
          Key: 'hello'
        },
        {
          Key: 'hi'
        }
      ],
      Quiet: true
    }
  },
  function (err, data) {

    if (err) {
      console.log('error:', err);
      return;
    }

    console.log('success:', data);

  });

// get bucket
oss.listObjects({
    Bucket: 'chylvina',
    MaxKeys: '10',
    Prefix: '',
    Marker: '',
    Delimiter: ''
  },
  function (err, data) {
    if (err) {
      console.log('error:', err);
      return;
    }

    console.log('success:', data);
  });


// get object
oss.getObject({
    Bucket: 'chylvina',
    Key: 'hi'
  },
  function (err, data) {

    if (err) {
      console.log('error:', err);
      return;
    }

    console.log('success:', data);
  });
